<div class="container">
  <!-- Header Section -->


  <!-- Main Content Section -->
  <div class="row mt-5">
    <div class="col">
      <div class="card shadow-lg p-4 border-0">
        <!-- Filter Section -->
        <div class="bg-light text-dark p-3 rounded shadow-sm d-flex justify-content-between align-items-center mb-3">
          <mat-form-field class="filter-field w-50 ">
            <mat-label>Filter Elements</mat-label>
            <input matInput (input)="applyFilter($event)" placeholder="Type to filter" />
          </mat-form-field>
          <button class="btn btn-success" (click)="openCreateModal()">Create</button>
        </div>
        
        <!-- Table Section -->
 <!-- Table Section -->
<div class="table-responsive">
  <table mat-table [dataSource]="dataSource" class="table table-striped align-middle bg-light">
    
    <!-- Staff Column -->
    <ng-container matColumnDef="staff">
      <th mat-header-cell *matHeaderCellDef>Staff</th>
      <td mat-cell *matCellDef="let element">{{ element.staff }}</td>
    </ng-container>

    <!-- Day Column -->
    <ng-container matColumnDef="day">
      <th mat-header-cell *matHeaderCellDef>Day</th>
      <td mat-cell *matCellDef="let element">{{ element.day | date: 'shortDate' }}</td>
    </ng-container>

    <!-- Schedule Column -->
    <ng-container matColumnDef="schedule">
      <th mat-header-cell *matHeaderCellDef>Schedule</th>
      <td mat-cell *matCellDef="let element">{{ element.schedule | date: 'shortDate' }}</td>
    </ng-container>

    <!-- Time In Column -->
    <ng-container matColumnDef="timeIn">
      <th mat-header-cell *matHeaderCellDef>Time In</th>
      <td mat-cell *matCellDef="let element">{{ element.timeIn }}</td>
    </ng-container>

    <!-- Time Out Column -->
    <ng-container matColumnDef="timeOut">
      <th mat-header-cell *matHeaderCellDef>Time Out</th>
      <td mat-cell *matCellDef="let element">{{ element.timeOut }}</td>
    </ng-container>

    <!-- Meal In Column -->
    <ng-container matColumnDef="mealIn">
      <th mat-header-cell *matHeaderCellDef>Meal In</th>
      <td mat-cell *matCellDef="let element">{{ element.mealIn }}</td>
    </ng-container>

    <!-- Meal Out Column -->
    <ng-container matColumnDef="mealOut">
      <th mat-header-cell *matHeaderCellDef>Meal Out</th>
      <td mat-cell *matCellDef="let element">{{ element.mealOut }}</td>
    </ng-container>

    <!-- Actions Column -->
    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef>Actions</th>
      <td mat-cell *matCellDef="let element" class="d-flex gap-2">
        <button mat-icon-button color="primary" (click)="openEditModal(element)">
          <mat-icon>edit</mat-icon>
        </button>
        <button mat-icon-button color="warn" (click)="deleteElement(element)">
          <mat-icon>delete</mat-icon>
        </button>
      </td>
    </ng-container>

    <!-- Header Row and Data Rows -->
    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table>
</div>

        </div>

        <!-- Paginator -->
        <mat-paginator [pageSizeOptions]="[5, 10, 20]" showFirstLastButtons class="bg-light p-3 rounded shadow-sm text-black"></mat-paginator>
      </div>
    </div>
  </div>

  <!-- Modals Section -->




<!-- Create Modal -->
<div
  class="modal fade"
  id="createModal"
  tabindex="-1"
  aria-labelledby="createModalLabel"
  aria-hidden="true"
>
  <div class="modal-dialog modal-sm" style="max-width: 450px;"> <!-- Custom width with modal-sm for a compact look -->
    <div class="modal-content">
      <div class="modal-header bg-primary text-white">
        <h5 class="modal-title" id="createModalLabel">Create New Entry</h5>
        <button type="button" class="btn-close text-white" data-bs-dismiss="modal"></button>
      </div>
      <div class="modal-body">
        <form>
          <!-- Staff Input -->
          <div class="mb-3">
            <label for="staffInput" class="form-label">Staff Name</label>
            <input
              type="text"
              class="form-control"
              id="staffInput"
              [(ngModel)]="selectedElement.staff"
              name="staff"
              placeholder="Enter staff name"
              required
            />
          </div>

          <!-- Schedule Input -->
          <div class="mb-3">
            <label for="scheduleInput" class="form-label">Schedule</label>
            <input
              type="datetime-local"
              class="form-control"
              id="scheduleInput"
              [(ngModel)]="selectedElement.schedule"
              name="schedule"
              required
            />
          </div>

          <!-- Time In Input -->
          <div class="mb-3">
            <label for="timeInInput" class="form-label">Time In</label>
            <input
              type="time"
              class="form-control"
              id="timeInInput"
              [(ngModel)]="selectedElement.timeIn"
              name="timeIn"
              required
            />
          </div>

          <!-- Time Out Input -->
          <div class="mb-3">
            <label for="timeOutInput" class="form-label">Time Out</label>
            <input
              type="time"
              class="form-control"
              id="timeOutInput"
              [(ngModel)]="selectedElement.timeOut"
              name="timeOut"
              required
            />
          </div>

          <!-- Meal In Input -->
          <div class="mb-3">
            <label for="mealInInput" class="form-label">Meal In</label>
            <input
              type="time"
              class="form-control"
              id="mealInInput"
              [(ngModel)]="selectedElement.mealIn"
              name="mealIn"
              required
            />
          </div>

          <!-- Meal Out Input -->
          <div class="mb-3">
            <label for="mealOutInput" class="form-label">Meal Out</label>
            <input
              type="time"
              class="form-control"
              id="mealOutInput"
              [(ngModel)]="selectedElement.mealOut"
              name="mealOut"
              required
            />
          </div>

        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>
        <button type="button" class="btn btn-primary btn-sm" (click)="saveNewElement()">Save Entry</button>
      </div>
    </div>
  </div>
</div>




  <!-- Edit Modal -->

<div
class="modal fade"
id="editModal"
tabindex="-1"
aria-labelledby="editModalLabel"
aria-hidden="true"
>
<div class="modal-dialog modal-sm" style="max-width: 450px;"> <!-- Custom width for the modal -->
  <div class="modal-content">
    <div class="modal-header bg-primary text-white">
      <h5 class="modal-title" id="editModalLabel">Edit Entry</h5>
      <button type="button" class="btn-close text-white" data-bs-dismiss="modal"></button>
    </div>
    <div class="modal-body">
      <form>
        <!-- Staff Input -->
        <div class="mb-3">
          <label for="staffInputEdit" class="form-label">Staff Name</label>
          <input
            type="text"
            class="form-control"
            id="staffInputEdit"
            [(ngModel)]="selectedElement.staff"
            name="staff"
            placeholder="Enter staff name"
            required
          />
        </div>

        <!-- Schedule Input -->
        <div class="mb-3">
          <label for="scheduleInputEdit" class="form-label">Schedule</label>
          <input
            type="datetime-local"
            class="form-control"
            id="scheduleInputEdit"
            [(ngModel)]="selectedElement.schedule"
            name="schedule"
            required
          />
        </div>

        <!-- Time In Input -->
        <div class="mb-3">
          <label for="timeInInputEdit" class="form-label">Time In</label>
          <input
            type="time"
            class="form-control"
            id="timeInInputEdit"
            [(ngModel)]="selectedElement.timeIn"
            name="timeIn"
            required
          />
        </div>

        <!-- Time Out Input -->
        <div class="mb-3">
          <label for="timeOutInputEdit" class="form-label">Time Out</label>
          <input
            type="time"
            class="form-control"
            id="timeOutInputEdit"
            [(ngModel)]="selectedElement.timeOut"
            name="timeOut"
            required
          />
        </div>

        <!-- Meal In Input -->
        <div class="mb-3">
          <label for="mealInInputEdit" class="form-label">Meal In</label>
          <input
            type="time"
            class="form-control"
            id="mealInInputEdit"
            [(ngModel)]="selectedElement.mealIn"
            name="mealIn"
            required
          />
        </div>

        <!-- Meal Out Input -->
        <div class="mb-3">
          <label for="mealOutInputEdit" class="form-label">Meal Out</label>
          <input
            type="time"
            class="form-control"
            id="mealOutInputEdit"
            [(ngModel)]="selectedElement.mealOut"
            name="mealOut"
            required
          />
        </div>

      </form>
    </div>
    <div class="modal-footer">
      <button type="button" class="btn btn-secondary btn-sm" data-bs-dismiss="modal">Close</button>
      <button type="button" class="btn btn-primary btn-sm" (click)="saveChanges()">Save Changes</button>
    </div>
  </div>
</div>
</div>






